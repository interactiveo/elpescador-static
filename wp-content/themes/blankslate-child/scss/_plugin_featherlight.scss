
// =======================
// ORIGINAL FEATHERLIGHT CODE
// =======================

/* don't show these though */
.featherlight script.featherlight-inner,
.featherlight link.featherlight-inner,
.featherlight style.featherlight-inner {
	display: none;
}

.featherlight * { /* See https://github.com/noelboss/featherlight/issues/42 */
	box-sizing: border-box;
}

/* hide non featherlight items when printing */
@media print {
	html.with-featherlight > * > :not(.featherlight) {
		display: none;
	}
}


// =======================
// CUSTOM FEATHER LIGHT CSS
// =======================

html.with-featherlight {
	overflow: hidden;
}


.featherlight {
	display: none;
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	z-index: 9999;
	background-color: rgba(setcolor(green,dark2),0.85);
    backdrop-filter: blur(10px);
	opacity: 0;
	&:not(.featherlight-loading) {
		opacity: 1;
	}
}

// LOADING
.featherlight-loading {
	@extend %svg-loading;
	background-size: 25vw 25vw;
}

// CLOSE
.featherlight-close {
    position: absolute;
    top: 0;
    right: 0;
    transform: translateX(50%) translateY(-50%);
    background-color: white;
    width: 3.125rem;
    aspect-ratio: 1 / 1;
    border-radius: 50%;
    overflow: hidden;
    display: block;
    border: 0;
    appearance: none;
    padding: 0;
    box-shadow: 0 0 1rem 0 rgba(#000,0.25);
    color: #000;
	text-indent: 9999px;
    @include transition(0.25s);
	@extend %icon-before;
	&:before {
		@extend .icon-close;
		text-indent: 0;
		display: block;
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translateX(-50%) translateY(-50%);
		line-height: 1;
		font-size:1.25rem;
	}
    &:hover {
		background-color: setcolor(green,base);
		color: setcolor(green,dark);
	}
}

// NEXT & PREV
.featherlight-previous,
.featherlight-next {
	position: absolute;
	top: 50%;
	z-index: 999;
	cursor: pointer;
	background-color: white;
    width: 3.125rem;
    aspect-ratio: 1 / 1;
    border-radius: 50%;
	line-height: 1;
	font-size:1.25rem;
	color: #000;
	span {
		display: none !important;
	}
	@extend %icon-before;
	&:before {
		display: block;
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translateX(-50%) translateY(-50%);
		line-height: 1;
	}
    &:hover {
		background-color: setcolor(green,base);
		color: setcolor(green,dark);
	}
}
.featherlight-next {
	right: 0;
	transform: translateY(-50%) translateX(calc(100% + 1rem));
	&:before {
		@extend .icon-right;
	}
}
.featherlight-previous {
	left: 0;
	transform: translateY(-50%) translateX(calc(-100% - 1rem));
	&:before {
		@extend .icon-left;
	}
}

// IMAGE
.featherlight {
	&:not(.featherlight-iframe) {
		.featherlight-content {
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translateX(-50%) translateY(100%) translate3d(0, 0, 0);
			width: auto !important;
			height: auto !important;
			max-width: calc(90vw - 8.125rem);
			max-height: 70vh;
			.featherlight-image {
				width: auto !important;
				height: auto !important;
				max-width: calc(90vw - 8.125rem);
				max-height: 70vh;
				object-fit: contain;
				object-position: 50% 50%;
				background-color: black;
				border-radius: $border-radius;
				box-shadow: 0 0 1rem 0 rgba(#000,0.25);
			}
		}
		&:not(.featherlight-loading) {
			.featherlight-content {
				animation: openModal2 1s forwards;
			}
		}
	}
}

// CUSTOM GALLERY CLASS
.fl-image-gallery-custom {
	opacity: 1 !important;
}

// IFRAME
.featherlight-iframe {
	.featherlight-content {
		position: relative;
		top: 50%;
		left: 50%;
		//transform: translateX(-50%) translateY(-50%);
		transform: translateX(-50%) translateY(100%) translate3d(0, 0, 0);
		overflow: visible;
		background: none;
		border-radius: $border-radius;
		box-shadow: 0 0 1rem 0 rgba(#000,0.25);
		width: auto;
		height: auto;
		background-color: black;
		width: auto;
		height: auto;
		max-width: 90vw;
		max-height: 75vh;
		aspect-ratio: 16 / 9;
		animation: openModal2 1s forwards;
	}
	iframe {
		display: block;
		width: auto;
		max-width: 90vw;
		height: auto;
		max-height: 75vh;
		aspect-ratio: 16 / 9;
		object-fit: contain;
		border-radius: $border-radius;
	}
}